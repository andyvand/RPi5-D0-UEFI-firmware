diff -Nur edk2/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdDevice.c edk2-new/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdDevice.c
--- edk2/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdDevice.c	2026-02-19 13:34:30
+++ edk2-new/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdDevice.c	2026-02-18 16:50:02
@@ -1214,7 +1214,8 @@
 {
   EFI_STATUS                     Status;
   EFI_PCI_IO_PROTOCOL            *PciIo;
-  EFI_SD_MMC_PASS_THRU_PROTOCOL  *PassThru;
+  EFI_SD_MMC_PASS_THRU_PROTOCOL  *PassThru;
+  EFI_HANDLE                     ControllerHandle;
   UINT32                         Ocr;
   UINT16                         Rca;
   BOOLEAN                        Xpc;
@@ -1223,7 +1224,6 @@
   UINT16                         ControllerVer;
   UINT8                          PowerCtrl;
   UINT32                         PresentState;
-  UINT8                          HostCtrl2;
   UINTN                          Retry;
   BOOLEAN                        ForceVoltage33;
   BOOLEAN                        SdVersion1;
@@ -1231,10 +1231,22 @@
   ForceVoltage33 = FALSE;
   SdVersion1     = FALSE;
 
-  PciIo    = Private->PciIo;
-  PassThru = &Private->PassThru;
+  PciIo            = Private->PciIo;
+  PassThru         = &Private->PassThru;
+  ControllerHandle = Private->ControllerHandle;
 
-Voltage33Retry:
+Voltage33Retry:
+  //
+  // Start at 3.3V.
+  // Note that if we got here from a failed 1.8V switching attempt,
+  // the card should've been power cycled to reset its own voltage level.
+  //
+  Status = SdMmcHcSetSignalingVoltage (ControllerHandle, PciIo, Slot, SdMmcSignalingVoltage33);
+  if (EFI_ERROR (Status)) {
+    DEBUG ((DEBUG_ERROR, "SdCardIdentification: Couldn't set 3.3V signaling: %r\n", Status));
+    return Status;
+  }
+
   //
   // 1. Send Cmd0 to the device
   //
@@ -1371,16 +1383,9 @@
         goto Error;
       }
 
-      HostCtrl2 = BIT3;
-      SdMmcHcOrMmio (PciIo, Slot, SD_MMC_HC_HOST_CTRL2, sizeof (HostCtrl2), &HostCtrl2);
-
-      gBS->Stall (5000);
-
-      SdMmcHcRwMmio (PciIo, Slot, SD_MMC_HC_HOST_CTRL2, TRUE, sizeof (HostCtrl2), &HostCtrl2);
-      if ((HostCtrl2 & BIT3) == 0) {
-        DEBUG ((DEBUG_ERROR, "SdCardIdentification: SwitchVoltage fails with HostCtrl2 = 0x%x\n", HostCtrl2));
-        Status = EFI_DEVICE_ERROR;
-        goto Error;
+      if (EFI_ERROR (Status)) {
+        DEBUG ((DEBUG_ERROR, "SdCardIdentification: Couldn't set 1.8V signaling: %r\n", Status));
+        return Status;
       }
 
       Status = SdMmcHcStartSdClock (PciIo, Slot);
diff -Nur edk2/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.c edk2-new/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.c
--- edk2/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.c	2026-02-19 13:34:30
+++ edk2-new/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.c	2026-02-18 16:51:55
@@ -1174,6 +1174,83 @@
 
   return Status;
 }
+
+/**
+  Set the voltage regulator for I/O signaling.
+
+  @param[in] PciIo          The PCI IO protocol instance.
+  @param[in] Slot           The slot number of the SD card to send the command to.
+  @param[in] Voltage        The signaling voltage.
+
+  @retval EFI_SUCCESS       The voltage is supplied successfully.
+  @retval Others            The voltage isn't supplied successfully.
+
+**/
+EFI_STATUS
+SdMmcHcSetSignalingVoltage (
+  IN EFI_HANDLE                ControllerHandle,
+  IN EFI_PCI_IO_PROTOCOL       *PciIo,
+  IN UINT8                     Slot,
+  IN SD_MMC_SIGNALING_VOLTAGE  Voltage
+  )
+{
+  EFI_STATUS  Status;
+  UINT8       HostCtrl2;
+
+  //
+  // Set the internal regulator first.
+  //
+  switch (Voltage) {
+    case SdMmcSignalingVoltage33:
+      HostCtrl2 = ~SD_MMC_HC_CTRL_1V8_SIGNAL;
+      SdMmcHcAndMmio (PciIo, Slot, SD_MMC_HC_HOST_CTRL2, sizeof (HostCtrl2), &HostCtrl2);
+      break;
+    case SdMmcSignalingVoltage18:
+      HostCtrl2 = SD_MMC_HC_CTRL_1V8_SIGNAL;
+      SdMmcHcOrMmio (PciIo, Slot, SD_MMC_HC_HOST_CTRL2, sizeof (HostCtrl2), &HostCtrl2);
+      break;
+    default:
+      ASSERT (FALSE);
+      return EFI_INVALID_PARAMETER;
+  }
+
+  //
+  // Some controllers rely on an external regulator.
+  //
+  if ((mOverride != NULL) && (mOverride->NotifyPhase != NULL)) {
+    Status = mOverride->NotifyPhase (
+                          ControllerHandle,
+                          Slot,
+                          EdkiiSdMmcSetSignalingVoltage,
+                          &Voltage
+                          );
+    if (EFI_ERROR (Status)) {
+      DEBUG ((
+        DEBUG_ERROR,
+        "%a: SD/MMC set signaling voltage notifier callback failed - %r\n",
+        __func__,
+        Status
+        ));
+      return Status;
+    }
+  }
+
+  gBS->Stall (5000);
+
+  Status = SdMmcHcRwMmio (PciIo, Slot, SD_MMC_HC_HOST_CTRL2, TRUE, sizeof (HostCtrl2), &HostCtrl2);
+  if (EFI_ERROR (Status)) {
+    return Status;
+  }
+
+  HostCtrl2 &= SD_MMC_HC_CTRL_1V8_SIGNAL;
+  if (((Voltage == SdMmcSignalingVoltage33) && (HostCtrl2 != 0)) ||
+      ((Voltage == SdMmcSignalingVoltage18) && (HostCtrl2 == 0)))
+  {
+    return EFI_DEVICE_ERROR;
+  }
+
+  return EFI_SUCCESS;
+}
 
 /**
   Initialize the Timeout Control register with most conservative value at initialization.
diff -Nur edk2/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.h edk2-new/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.h
--- edk2/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.h	2026-02-19 13:34:30
+++ edk2-new/MdeModulePkg/Bus/Pci/SdMmcPciHcDxe/SdMmcPciHci.h	2026-02-18 16:54:03
@@ -62,7 +62,8 @@
 
 //
 // SD Host Controller bits to HOST_CTRL2 register
-//
+//
+#define SD_MMC_HC_CTRL_1V8_SIGNAL  0x0008
 #define SD_MMC_HC_CTRL_UHS_MASK    0x0007
 #define SD_MMC_HC_CTRL_UHS_SDR12   0x0000
 #define SD_MMC_HC_CTRL_UHS_SDR25   0x0001
@@ -558,6 +559,25 @@
   IN UINT8                Slot,
   IN SD_MMC_HC_SLOT_CAP   Capability
   );
+
+/**
+  Set the voltage regulator for I/O signaling.
+
+  @param[in] PciIo          The PCI IO protocol instance.
+  @param[in] Slot           The slot number of the SD card to send the command to.
+  @param[in] Voltage        The signaling voltage.
+
+  @retval EFI_SUCCESS       The voltage is supplied successfully.
+  @retval Others            The voltage isn't supplied successfully.
+
+**/
+EFI_STATUS
+SdMmcHcSetSignalingVoltage (
+  IN EFI_HANDLE                ControllerHandle,
+  IN EFI_PCI_IO_PROTOCOL       *PciIo,
+  IN UINT8                     Slot,
+  IN SD_MMC_SIGNALING_VOLTAGE  Voltage
+  );
 
 /**
   Initialize the Timeout Control register with most conservative value at initialization.
diff -Nur edk2/MdeModulePkg/Include/Protocol/SdMmcOverride.h edk2-new/MdeModulePkg/Include/Protocol/SdMmcOverride.h
--- edk2/MdeModulePkg/Include/Protocol/SdMmcOverride.h	2026-02-19 13:34:30
+++ edk2-new/MdeModulePkg/Include/Protocol/SdMmcOverride.h	2026-02-18 16:47:38
@@ -16,13 +16,18 @@
 #define EDKII_SD_MMC_OVERRIDE_PROTOCOL_GUID \
   { 0xeaf9e3c1, 0xc9cd, 0x46db, { 0xa5, 0xe5, 0x5a, 0x12, 0x4c, 0x83, 0x23, 0x23 } }
 
-#define EDKII_SD_MMC_OVERRIDE_PROTOCOL_VERSION  0x3
+#define EDKII_SD_MMC_OVERRIDE_PROTOCOL_VERSION  0x4
 
 typedef struct _EDKII_SD_MMC_OVERRIDE EDKII_SD_MMC_OVERRIDE;
 
 #define EDKII_SD_MMC_BUS_WIDTH_IGNORE        MAX_UINT8
 #define EDKII_SD_MMC_CLOCK_FREQ_IGNORE       MAX_UINT32
 #define EDKII_SD_MMC_DRIVER_STRENGTH_IGNORE  MAX_UINT8
+
+typedef enum {
+  SdMmcSignalingVoltage33,
+  SdMmcSignalingVoltage18
+} SD_MMC_SIGNALING_VOLTAGE;
 
 typedef enum {
   SdDriverStrengthTypeB = 0,
@@ -90,7 +95,8 @@
   EdkiiSdMmcInitHostPost,
   EdkiiSdMmcUhsSignaling,
   EdkiiSdMmcSwitchClockFreqPost,
-  EdkiiSdMmcGetOperatingParam
+  EdkiiSdMmcGetOperatingParam,
+  EdkiiSdMmcSetSignalingVoltage
 } EDKII_SD_MMC_PHASE_TYPE;
 
 /**
